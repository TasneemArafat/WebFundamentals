-- Part 1 --
select users.first_name, users.last_name, friend.first_name, friend.last_name from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id
where friend.first_name="Kermit";

-- Part 2 --
select users.first_name, users.last_name, count(friend.first_name) as friendships_count from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id
Group by first_name;

-- Part 3 --
select users.first_name, users.last_name, count(friend.first_name) as mostfriends from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id
Group by first_name
order by mostfriends desc
limit 1;






-- Part 4 --
insert into users (first_name,last_name,created_at)
values ("John","Smith",now());
insert into friendships (user_id, friend_id, created_at)
values(6,2,now());
insert into friendships (user_id, friend_id, created_at)
values(6,4,now());
insert into friendships (user_id, friend_id, created_at)
values(6,5,now());
select users.first_name, users.last_name, friend.first_name, friend.last_name from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id;

-- Part 5 --
select users.first_name, users.last_name, friend.first_name, friend.last_name from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id
where users.first_name = "Eli"
order by friend.first_name;






-- Part 6 --
Delete from friendships
where friendships.user_id = 2 and friendships.friend_id=5;
select users.first_name, users.last_name, friend.first_name, friend.last_name from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id;

-- Part 7 --
select users.first_name, users.last_name, friend.first_name, friend.last_name from users
join friendships on users.id=friendships.user_id
left join users as friend on friend.id=friendships.friend_id;
